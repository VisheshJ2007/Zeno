services:
  - type: web
    name: zeno-backend
    env: python
    buildCommand: pip install -r backend/requirements.txt
    startCommand: uvicorn backend.main:app --host 0.0.0.0 --port $PORT
    envVars:
      - key: PYTHON_VERSION
        value: "3.11.9"
      - key: MONGO_URI
        # mark secrets in Render dashboard (do NOT commit secrets to repo)
        sync: false
      - key: DB_NAME
        value: zeno_db
      - key: JWT_SECRET
        sync: false
      - key: JWT_ALG
        value: HS256
      - key: ACCESS_TOKEN_EXPIRE_MINUTES
        value: "60"
      - key: PASSWORD_RESET_SECRET
        sync: false
      - key: AZURE_OPENAI_API_KEY
        sync: false
      - key: AZURE_OPENAI_ENDPOINT
        sync: false
      - key: AZURE_OPENAI_DEPLOYMENT
        value: gpt-4o
      - key: AZURE_OPENAI_API_VERSION
        value: 2024-08-01-preview
      - key: FRONTEND_ORIGIN
        value: "https://<your-gh-username>.github.io"
